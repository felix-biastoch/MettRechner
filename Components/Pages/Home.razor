@page "/"

<PageTitle>MettRechner</PageTitle>

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card shadow">
                <div class="card-header bg-primary text-white">
                    <h2 class="mb-0">ðŸ¥© MettRechner</h2>
                </div>
                <div class="card-body">
                    <p class="lead">Berechne die perfekte Mettmenge fÃ¼r deine Party!</p>
                    
                    <div class="mb-3">
                        <label for="personCount" class="form-label">Anzahl der Personen</label>
                        <input type="number" class="form-control form-control-lg" 
                               id="personCount" 
                               @bind="PersonCount" 
                               min="1" 
                               placeholder="z.B. 10">
                    </div>

                    <div class="mb-3">
                        <label for="mettPerPerson" class="form-label">Gramm pro Person</label>
                        <input type="range" class="form-range" 
                               id="mettPerPerson" 
                               @bind="GrammProPerson" 
                               min="150" 
                               max="400" 
                               step="10">
                        <div class="d-flex justify-content-between">
                            <small>150g</small>
                            <span class="badge bg-primary">@GrammProPerson g</span>
                            <small>400g</small>
                        </div>
                    </div>

                    <button class="btn btn-primary btn-lg w-100 mb-4" @onclick="Berechne">
                        Berechnen
                    </button>

                    @if (GesamtMett > 0)
                    {
                        <div class="alert alert-success" role="alert">
                            <h4 class="alert-heading">ðŸŽ‰ Ergebnis</h4>
                            <hr>
                            <p class="mb-1"><strong>@GesamtMett g Mett</strong></p>
                            <p class="mb-0">â‰ˆ @BrÃ¶tchen BrÃ¶tchen mit je @MettProBrÃ¶tchen g</p>
                        </div>
                    }
                </div>
            </div>

            <div class="card mt-3">
                <div class="card-body">
                    <h5>ðŸ“‹ INFO</h5>
                    <ul class="mb-0">
                        <li>Standard: 200g pro Person</li>
                        <li>FÃ¼r Hungrige: 300g pro Person</li>
                        <li>Ein BrÃ¶tchen fasst ca. 50-70g Mett</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

@code {
    public int PersonCount { get; set; } = 1;
    public int GrammProPerson { get; set; } = 200;
    public int GesamtMett { get; set; }
    public int BrÃ¶tchen { get; set; }
    public int MettProBrÃ¶tchen { get; set; }

    private void Berechne()
    {
        if (PersonCount > 0)
        {
            GesamtMett = PersonCount * GrammProPerson;
            MettProBrÃ¶tchen = 60;
            BrÃ¶tchen = (int)Math.Ceiling((double)GesamtMett / MettProBrÃ¶tchen);
        }
    }
}
